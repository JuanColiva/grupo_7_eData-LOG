<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include("../partials/head.ejs")  %>
        <link rel="stylesheet" href="/css/registro.css">
    </head>
    <body>
        <header>
            <%- include("../partials/header.ejs")  %> 
        </header>
        <main>
            <%- include("../partials/hb.ejs")  %>
            <section class="register-box">
                <form action="/users/update/<%= usuario.id %>?m=PUT" method="post" enctype="multipart/form-data" id="formulario">
                    <div id="formulario1">
                    <h2>Modifica tu cuenta.</h2>
                    <h3>Informacion de cuenta.</h3>
                    <input type="text"
                    placeholder="nombre"
                    name= "nombre"
                    class="barra-register"
                    id="registro-id"
                    value="<%= locals.errores && !locals.errores.nombre && locals.data ? locals.data.nombre : null %>">
                    <p class="barra-register-error">Nombre solo puede llevar letras, espacios y acentos</p>
                    <% if (locals.errores && locals.errores.nombre) { %>
                        <p class="feedback">
                            <%= locals.errores.nombre.msg  %> 
                        </p>
                    <% } %>
                    </div>
                    <div id="formulario2">
                    <input type="text"
                    name= "apellido"
                    placeholder="apellido"
                    class="barra-register"
                    id="registro-id2"
                    value="<%= locals.errores && !locals.errores.apellido && locals.data ? locals.data.apellido : null %>">
                    <p class="barra-register-error">Apellido solo puede llevar letras, espacios y acentos</p>
                    <% if (locals.errores && locals.errores.apellido) { %>
                        <p class="feedback">
                            <%= locals.errores.apellido.msg  %> 
                        </p>
                    <% } %>
                    </div>
                    <div id="formulario3">
                        <input type="email" 
                           name= "email" 
                           placeholder="email"
                           class="barra-register"
                           id="registro-id3"
                           value="<%= locals.errores && !locals.errores.email && locals.data ? locals.data.email : null %>">
                           <p class="barra-register-error">El email tiene solo puede ser letras, numeros y debes poner el "@" y ".com"</p>
                           <% if (locals.errores && locals.errores.email) { %>
                        <p class="feedback">
                            <%= locals.errores.email.msg  %> 
                        </p>
                    <% } %>
                    </div>
                    <div class="subirImagen" id="formulario5">
                            <input type="file" name="imagene">
                            <p class="barra-register-error">No has subido una imagen</p>
                    </div>
                    <button type="submit" class="botton-form">Enviar</button>
                </form>
            </section>
        </main>
        <footer class="main-footer">
            <%- include ("../partials/footer.ejs") %> 
        </footer>
        <script src="/scripts/register.js"></script>
        <script src="/scripts/hb.js"></script>
    </body>
</html>